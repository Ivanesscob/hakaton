<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Панель</title>
    <link rel="stylesheet" href="/static/stylePanel.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
<!-- Кнопка перехода на страницу профиля компании -->
<div class="profile-btn-container">
    <a href="/profile" class="profile-btn" id="profile-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
        </svg>
    </a>
</div>

<div class="sidebar-toggle" id="sidebar-toggle">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
</div>

<div class="sidebar" id="sidebar">
    <h3>Меню</h3>
    <div class="sidebar-text">
        <p>Добро пожаловать в панель управления!</p>
        <p>Здесь вы можете управлять своими бизнесами и продуктами.</p>
        <p>Для выхода из системы нажмите кнопку ниже.</p>
    </div>
    <button class="logout-btn" id="logout-btn">Выйти</button>
</div>

<div class="container">
    <div class="scene" id="scene-container">
        <!-- Блоки будут добавлены динамически -->
    </div>
    <div class="list" id="list-container">
        <!-- Блоки списка будут добавлены динамически -->
    </div>
    <div class="info-panel" id="info-panel">Выберите бизнес для просмотра информации</div>
</div>

<!-- Подключаем JavaScript файлы -->
<script src="/static/js/auth.js"></script>
<script src="/static/js/business.js"></script>
<script src="/static/js/ui.js"></script>
<script src="/static/js/scenes.js"></script>
<script src="/static/js/main.js"></script>
   <script>
        // Переменные для отслеживания свайпа
        let startX, endX;

        // Получаем элементы
        const list = document.querySelector('.list');
        const scene = document.querySelector('.scene');

        // Пороговое значение для свайпа
        const swipeThreshold = 150;

        // Слушаем события касания
        document.addEventListener('touchstart', function(e) {
            // Получаем начальную позицию свайпа
            startX = e.touches[0].clientX;
        });

        document.addEventListener('touchmove', function(e) {
            // Получаем конечную позицию свайпа
            endX = e.touches[0].clientX;
        });

        document.addEventListener('touchend', function() {
            // Если свайп влево (меньше порога)
            if (startX - endX > swipeThreshold) {
                // Переключаем видимость элементов
                if (list.style.display !== 'none') {
                    list.style.display = 'none';  // Прячем список
                    scene.style.display = 'block'; // Показываем сцену
                } else {
                    list.style.display = 'block'; // Показываем список
                    scene.style.display = 'none';  // Прячем сцену
                }
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'92d0226e4e05b0dc',t:'MTc0NDA5ODIxNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
</body>
</html>